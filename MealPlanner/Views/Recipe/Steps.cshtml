<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dodawanie kroków przepisu</title>
    <style>
        .step-container {
            margin-bottom: 10px;
        }
        textarea {
            width: 100%;
            min-height: 50px;
        }
        #next-page-button {
            margin-top: 20px;
            display: none; /* Ukrywamy przycisk na początku */
        }

        body {
            background-size: cover; /* Ustawia tło, aby dopasowało się do rozmiaru strony */
            background-repeat: no-repeat; /* Brak powtórzeń zdjęcia */
            background-position: center; /* Środek zdjęcia jako punkt wyjściowy */
            height: 100vh; /* Ustawia pełną wysokość strony (viewport height) */
            margin: 0; /* Zeruje marginesy */
        }
    </style>
</head>
<body>
    <h1>Dodaj kolejne kroki przepisu</h1>
    <div id="steps-container">
        <!-- Tutaj będą dodawane kolejne kroki -->
    </div>
    <button id="add-step-button">Dodaj krok</button>
    <button id="next-page-button" onclick="goToNextPage()">Utwórz Przepis</button>
</body>
    <script>
        // Pobieramy elementy
        const stepsContainer = document.getElementById('steps-container');
        const addStepButton = document.getElementById('add-step-button');
        const nextPageButton = document.getElementById('next-page-button');
        let hasAddedStep = false; // Flaga sprawdzająca, czy dodano krok

        // Funkcja dodająca nowy krok
        addStepButton.addEventListener('click', () => {
            // Tworzymy kontener dla kroku
            const stepContainer = document.createElement('div');
            stepContainer.className = 'step-container';

            // Tworzymy pole tekstowe (textarea) dla opisu kroku
            const stepTextarea = document.createElement('textarea');
            stepTextarea.placeholder = 'Wpisz szczegóły kroku...';

            // Dodajemy pole tekstowe do kontenera kroku
            stepContainer.appendChild(stepTextarea);

            // Dodajemy kontener kroku do głównego kontenera
            stepsContainer.appendChild(stepContainer);

            // Ustawiamy flagę na true i pokazujemy przycisk przejścia
            hasAddedStep = true;
            nextPageButton.style.display = 'block';
        });

        // Funkcja przechodząca do następnej strony
        function goToNextPage() {
            if (hasAddedStep) {
                window.location.href = '@Url.Action("Index", "Recipe")';
            } else {
                alert('Dodaj przynajmniej jeden krok, aby przejść dalej!');
            }
        }
    </script>
</html>